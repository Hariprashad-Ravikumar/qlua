d = 4
qcd.lattice({d,d,d})
rnd = qcd.RandomState(1, qcd.pcoord(0) * d * d +
                         qcd.pcoord(1) * d +
                         qcd.pcoord(2))

crnd = rnd:gaussian_Complex()
v0 = rnd:gaussian_ColorVector()
v1 = rnd:gaussian_ColorVector()

x0 = qcd.ColorMatrix()
x1 = qcd.ColorMatrix(2.0)
x2 = qcd.ColorMatrix(qcd.complex(3,4))
x3 = qcd.ColorMatrix(crnd, 1, 2)
x4 = qcd.ColorMatrix(v0, 1)
x5 = qcd.ColorMatrix(v1, v0)

print("element: " .. tostring(x5[{1,2,3,a=0,b=1}]))

y = x0 + x1 * x2:transpose() + x3:adjoin() * x4 * x5:conj()

print("trace: " .. tostring(y:trace():sum()))